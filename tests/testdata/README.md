# tests/testdata

このディレクトリには、`codicat` CLI ツールの検証に使用するテスト入力と期待される出力ファイルが含まれています。

## 構造

```
testdata/
├── input/       # シナリオごとに整理された入力ファイル
└── golden/      # 対応するシナリオの期待される出力
```

`input/` 以下の各サブディレクトリはテストケースに対応しています。`golden/` 以下の同じ名前のファイルには、そのシナリオの期待される CLI 出力が含まれています。

## ゴールデンファイルの更新

現在の CLI 出力に基づいてゴールデンファイルを再生成するには：

```bash
cargo test -- --ignored generate_golden
```

これにより、`golden/` ディレクトリのファイルが新しい出力で上書きされます。

## 入力ファイルの再生成

テスト入力ディレクトリ構造を一から再構築するには：

```bash
cargo run --bin generate_testdata
```

このコマンドは、`input/` 以下に定義済みのすべてのシナリオに対して一貫した入力ファイルを作成します。
